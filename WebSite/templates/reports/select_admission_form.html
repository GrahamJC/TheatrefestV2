{% load crispy_forms_tags %}

{% crispy form %}

<script language="javascript">

    $(function() {
        $('#id_date').on('change', updatePerformances);
        $('#id_venue').on('change', updatePerformances);
    });

    function updatePerformances(e) {
        var date = $('#id_date').val();
        var venueId = $('#id_venue').val();
        if (date && venueId) {
            $('#id_performance').load('/reports/ajax/performances/' + date + '/' + venueId);
        }
        else {
            $('#id_performance').html('<option value = "">-- Select performance --</option>');
        }
    }

</script>